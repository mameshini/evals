kind: AdaptiveDialog
modelDescription: This topic will return a list of IT service requests that the user originally opened.
beginDialog:
  kind: OnRecognizedIntent
  id: main
  intent:
    triggerQueries:
      - What tickets do i have open
      - View tickets
      - What tickets have I opened recently
      - View my tickets
      - My tickets
      - View requests

  actions:
    - kind: BeginDialog
      id: Kdqck1
      dialog: cr3fb_itHelpdeskV1.topic.GetCaller

    - kind: ConditionGroup
      id: conditionGroup_FpZDxw
      conditions:
        - id: conditionItem_cBwxA9
          condition: =IsBlank(Global.SNCallerId)
          actions:
            - kind: GotoAction
              id: J972Yw
              actionId: sendActivity_fXVZDM

    - kind: InvokeConnectorAction
      id: invokeConnectorAction_bGnm9n
      input:
        binding:
          sysparm_display_value: true
          sysparm_exclude_reference_link: true
          sysparm_limit: 20
          sysparm_query: =Concatenate("caller_id=",Global.SNCallerId,"^ORDERBYDESCopened_at")
          tableType: incident

      output:
        binding:
          result: Topic.GetRequestsResult

      connectionReference: cr3fb_itHelpdeskV1.shared_service-now.eafe6f13e4134dd48339c4068e6bc415
      connectionProperties:
        mode: Maker

      dynamicOutputSchema:
        kind: Record
        properties:
          result:
            order: 0
            type:
              kind: Table
              properties:
                action_status:
                  displayName: Action status
                  order: 106
                  type: String

                actions_taken:
                  displayName: Actions taken
                  description: Updates posted on major incident
                  order: 72
                  type: String

                active:
                  displayName: Active
                  order: 22
                  type: String

                activity_due:
                  displayName: Activity due
                  description: Date by which the Inactivity Monitor expects the task to be updated
                  order: 105
                  type: String

                additional_assignee_list:
                  displayName: Additional assignee list
                  description: Additional assignees
                  order: 37
                  type: String

                approval:
                  displayName: Approval
                  order: 110
                  type: String

                approval_history:
                  displayName: Approval history
                  order: 8
                  type: String

                approval_set:
                  displayName: Approval set
                  order: 28
                  type: String

                assigned_to:
                  displayName: Assigned to
                  description: Person primarily responsible for working this task
                  order: 47
                  type: String

                assignment_group:
                  displayName: Assignment group
                  order: 89
                  type: String

                business_duration:
                  displayName: Business duration
                  description: Business time elapsed before task was closed
                  order: 25
                  type: String

                business_impact:
                  displayName: Business impact
                  order: 77
                  type: String

                business_service:
                  displayName: Business service
                  order: 76
                  type: String

                business_stc:
                  displayName: Business resolve time
                  description: Business time elapsed (stored in seconds) before Incident was resolved
                  order: 90
                  type: String

                calendar_duration:
                  displayName: Duration
                  description: Time elapsed before task was closed
                  order: 95
                  type: String

                calendar_stc:
                  displayName: Resolve time
                  description: Time elapsed (stored in seconds) before Incident was Resolved
                  order: 74
                  type: String

                caller_id:
                  displayName: Caller
                  description: Person who reported or is affected by this incident
                  order: 83
                  type: String

                category:
                  displayName: Category
                  order: 117
                  type: String

                cause:
                  displayName: Probable cause
                  order: 91
                  type: String

                caused_by:
                  displayName: Caused by Change
                  description: Change request that caused the incident
                  order: 3
                  type: String

                child_incidents:
                  displayName: Child Incidents
                  description: Number of child Incidents related to this Problem
                  order: 62
                  type: String

                close_code:
                  displayName: Close code
                  description: For use in reporting
                  order: 88
                  type: String

                close_notes:
                  displayName: Close notes
                  order: 96
                  type: String

                closed_at:
                  displayName: Closed
                  order: 75
                  type: String

                closed_by:
                  displayName: Closed by
                  order: 41
                  type: String

                cmdb_ci:
                  displayName: Configuration item
                  description: Item or service affected
                  order: 18
                  type: String

                comments:
                  displayName: Additional comments
                  description: Journaled field, shared with the end user
                  order: 109
                  type: String

                comments_and_work_notes:
                  displayName: Comments and Work notes
                  description: Combined output of Additional comments and Work notes
                  order: 50
                  type: String

                company:
                  displayName: Company
                  order: 103
                  type: String

                contact_type:
                  displayName: Channel
                  order: 98
                  type: String

                contract:
                  displayName: Contract
                  order: 20
                  type: String

                correlation_display:
                  displayName: Correlation display
                  order: 33
                  type: String

                correlation_id:
                  displayName: Correlation ID
                  order: 54
                  type: String

                delivery_plan:
                  displayName: Delivery plan
                  order: 19
                  type: String

                delivery_task:
                  displayName: Delivery task
                  order: 34
                  type: String

                description:
                  displayName: Description
                  description: What change steps will be performed?
                  order: 92
                  type: String

                due_date:
                  displayName: Due date
                  description: Expected date from assigned to
                  order: 111
                  type: String

                escalation:
                  displayName: Escalation
                  order: 52
                  type: String

                expected_start:
                  displayName: Expected start
                  order: 80
                  type: String

                follow_up:
                  displayName: Follow up
                  order: 42
                  type: String

                group_list:
                  displayName: Group list
                  description: Interested groups
                  order: 26
                  type: String

                impact:
                  displayName: Impact
                  description: Measure of the business criticality of the affected service
                  order: 21
                  type: String

                incident_state:
                  displayName: Incident state
                  description: Workflow state of the incident
                  order: 100
                  type: String

                knowledge:
                  displayName: Knowledge
                  description: If checked, will automatically create a Draft knowledge article upon closure
                  order: 16
                  type: String

                lessons_learned:
                  displayName: Findings
                  order: 13
                  type: String

                location:
                  displayName: Location
                  description: Where the caller or service is located
                  order: 116
                  type: String

                made_sla:
                  displayName: Made SLA
                  order: 57
                  type: String

                major_incident_state:
                  displayName: Major incident state
                  order: 29
                  type: String

                needs_attention:
                  displayName: Needs attention
                  description: If checked, the agent needs to review this task.
                  order: 30
                  type: String

                notify:
                  displayName: Notify
                  order: 38
                  type: String

                number:
                  displayName: Number
                  order: 10
                  type: String

                opened_at:
                  displayName: Opened
                  order: 81
                  type: String

                opened_by:
                  displayName: Opened by
                  order: 67
                  type: String

                order:
                  displayName: Order
                  order: 17
                  type: String

                origin_id:
                  displayName: Origin
                  order: 94
                  type: String

                origin_table:
                  displayName: Origin table
                  description: Table of the Origin record
                  order: 7
                  type: String

                overview:
                  displayName: Overview
                  order: 108
                  type: String

                parent:
                  displayName: Parent
                  order: 1
                  type: String

                parent_incident:
                  displayName: Parent Incident
                  description: Can be used to collect Incidents for the same root issue
                  order: 43
                  type: String

                priority:
                  displayName: Priority
                  description: Sequence in which an Incident or Problem needs to be resolved, based on impact and urgency
                  order: 24
                  type: String

                problem_id:
                  displayName: Problem
                  description: Related problem, if one exists
                  order: 102
                  type: String

                promoted_by:
                  displayName: Promoted by
                  description: One who manually promotes to major incident
                  order: 0
                  type: String

                promoted_on:
                  displayName: Promoted on
                  description: Date and time of when this incident was promoted as major incident
                  order: 58
                  type: String

                proposed_by:
                  displayName: Proposed by
                  description: The user who proposed the incident as a major incident candidate
                  order: 11
                  type: String

                proposed_on:
                  displayName: Proposed
                  description: Date and time when the incident was proposed as a major incident candidate
                  order: 71
                  type: String

                reassignment_count:
                  displayName: Reassignment count
                  order: 46
                  type: String

                reopen_count:
                  displayName: Reopen count
                  description: Number of times Incident state has changed from Resolved or Closed to another state
                  order: 113
                  type: String

                reopened_by:
                  displayName: Last reopened by
                  order: 44
                  type: String

                reopened_time:
                  displayName: Last reopened at
                  order: 84
                  type: String

                resolved_at:
                  displayName: Resolved
                  order: 85
                  type: String

                resolved_by:
                  displayName: Resolved by
                  order: 64
                  type: String

                rfc:
                  displayName: Change Request
                  description: Related change, if one exists
                  order: 78
                  type: String

                route_reason:
                  displayName: Route reason
                  order: 73
                  type: String

                service_offering:
                  displayName: Service offering
                  order: 39
                  type: String

                severity:
                  displayName: Severity
                  order: 107
                  type: String

                short_description:
                  displayName: Short description
                  order: 32
                  type: String

                skills:
                  displayName: Skills
                  description: Required skills
                  order: 9
                  type: String

                sla_due:
                  displayName: SLA due
                  description: Date by which the SLA expects this task to be completed
                  order: 48
                  type: String

                sn_esign_document:
                  displayName: E-signature document
                  description: E-Signature document
                  order: 61
                  type: String

                sn_esign_esignature_configuration:
                  displayName: E-signature template
                  description: E-Signature configuration
                  order: 99
                  type: String

                state:
                  displayName: State
                  order: 14
                  type: String

                subcategory:
                  displayName: Subcategory
                  order: 86
                  type: String

                sys_class_name:
                  displayName: Task type
                  order: 40
                  type: String

                sys_created_by:
                  displayName: Created by
                  order: 15
                  type: String

                sys_created_on:
                  displayName: Created
                  order: 69
                  type: String

                sys_domain:
                  displayName: Domain
                  description: Domain to which the task belongs
                  order: 70
                  type: String

                sys_id:
                  displayName: Sys ID
                  order: 97
                  type: String

                sys_mod_count:
                  displayName: Updates
                  order: 112
                  type: String

                sys_tags:
                  displayName: Tags
                  order: 114
                  type: String

                sys_updated_by:
                  displayName: Updated by
                  order: 66
                  type: String

                sys_updated_on:
                  displayName: Updated
                  order: 6
                  type: String

                task_effective_number:
                  displayName: Effective number
                  order: 63
                  type: String

                time_worked:
                  displayName: Time worked
                  order: 79
                  type: String

                timeline:
                  displayName: Timeline
                  order: 55
                  type: String

                trigger_rule:
                  displayName: Trigger Rule
                  order: 36
                  type: String

                u_ado:
                  displayName: ADO
                  order: 56
                  type: String

                u_afterhourssupport:
                  displayName: After Hours Support
                  order: 93
                  type: String

                u_awaiting_user_count:
                  displayName: Awaiting User Count
                  order: 104
                  type: String

                u_business_service:
                  displayName: Business service
                  order: 65
                  type: String

                u_fcr:
                  displayName: FCR
                  description: Check this box if this was Resolved on first call
                  order: 12
                  type: String

                u_jira_key:
                  displayName: Jira Key
                  order: 51
                  type: String

                u_major_incident:
                  displayName: Major Incident
                  order: 59
                  type: String

                u_other_ci:
                  displayName: Other CI
                  order: 45
                  type: String

                u_other_ci_notes:
                  displayName: Other CI Notes
                  order: 2
                  type: String

                u_resolution_time:
                  displayName: Resolution Time(Minutes)
                  description: Time taken to resolve the Incident in minutes
                  order: 60
                  type: String

                u_rework:
                  displayName: Rework
                  order: 49
                  type: String

                u_sent:
                  displayName: Sent
                  order: 27
                  type: String

                u_work_item:
                  displayName: Work Item
                  order: 115
                  type: String

                universal_request:
                  displayName: Universal Request
                  order: 31
                  type: String

                upon_approval:
                  displayName: Upon approval
                  order: 53
                  type: String

                upon_reject:
                  displayName: Upon reject
                  order: 5
                  type: String

                urgency:
                  displayName: Urgency
                  description: Measure of the business criticality based on the impact and on the business needs of the Customer
                  order: 101
                  type: String

                user_input:
                  displayName: User input
                  order: 68
                  type: String

                watch_list:
                  displayName: Watch list
                  description: Interested users
                  order: 4
                  type: String

                work_end:
                  displayName: Actual end
                  order: 82
                  type: String

                work_notes:
                  displayName: Work notes
                  order: 87
                  type: String

                work_notes_list:
                  displayName: Work notes list
                  description: Users interested in work notes
                  order: 23
                  type: String

                work_start:
                  displayName: Actual start
                  order: 35
                  type: String

      operationId: GetRecords

    - kind: ConditionGroup
      id: conditionGroup_kztMIn
      conditions:
        - id: conditionItem_tBf43T
          condition: =IsEmpty(Topic.GetRequestsResult)
          actions:
            - kind: SendActivity
              id: sendActivity_fXVZDM
              activity: It looks like you do not have any service incidents that were previously opened.

      elseActions:
        - kind: ParseValue
          id: fCpU7S
          variable: Topic.Requests
          valueType:
            kind: Table
            properties:
              active: String
              activity_due: String
              additional_assignee_list: String
              approval: String
              approval_history: String
              approval_set: String
              assigned_to: String
              assignment_group: String
              business_duration: String
              business_impact: String
              business_service: String
              business_stc: String
              calendar_duration: String
              calendar_stc: String
              caller_id: String
              category: String
              cause: String
              caused_by: String
              child_incidents: String
              close_code: String
              close_notes: String
              closed_at: String
              closed_by: String
              cmdb_ci: String
              comments: String
              comments_and_work_notes: String
              company: String
              contact_type: String
              contract: String
              correlation_display: String
              correlation_id: String
              delivery_plan: String
              delivery_task: String
              description: String
              due_date: String
              escalation: String
              expected_start: String
              follow_up: String
              group_list: String
              hold_reason: String
              impact: String
              incident_state: String
              knowledge: String
              location: String
              made_sla: String
              notify: String
              number: String
              opened_at: String
              opened_by: String
              order: String
              origin_id: String
              origin_table: String
              parent: String
              parent_incident: String
              priority: String
              problem_id: String
              reassignment_count: String
              reopen_count: String
              reopened_by: String
              reopened_time: String
              resolved_at: String
              resolved_by: String
              rfc: String
              route_reason: String
              service_offering: String
              severity: String
              short_description: String
              sla_due: String
              state: String
              subcategory: String
              sys_class_name: String
              sys_created_by: String
              sys_created_on: String
              sys_domain: String
              sys_domain_path: String
              sys_id: String
              sys_mod_count: String
              sys_tags: String
              sys_updated_by: String
              sys_updated_on: String
              task_effective_number: String
              time_worked: String
              universal_request: String
              upon_approval: String
              upon_reject: String
              urgency: String
              user_input: String
              watch_list: String
              work_end: String
              work_notes: String
              work_notes_list: String
              work_start: String

          value: "=\"[]\""

        - kind: SetVariable
          id: setVariable_cqlZQM
          variable: Topic.Requests
          value: =Topic.GetRequestsResult

        - kind: SetVariable
          id: setVariable_CQKOp1
          variable: Topic.RequestList
          value: |-
            =Concat(
                ForAll(
                    Topic.Requests,
                    Concatenate(
                        "Request Number: ", ThisRecord.number, Char(13), 
                        "- ", "State: ", ThisRecord.state, Char(13),
                        "- ", "Assigned To: ", ThisRecord.assigned_to, Char(13), 
                        "- ", "Title: ", ThisRecord.short_description, Char(13), 
                        "- ", "Description: ", ThisRecord.description, Char(13), 
                        "- ", "Opened On: ", DateValue(ThisRecord.opened_at), Char(13), Char(10), Char(13)
                    ) As Value
                ), 
                Value
            )

        - kind: SendActivity
          id: sendActivity_YdVsMU
          activity: |-
            {If(CountRows(Topic.Requests)=1,"I found one incident.",Concatenate("Here is a list of your most recent ",CountRows(Topic.Requests)," incidents."))}
            
            
            {Topic.RequestList}

    - kind: InvokeConnectorAction
      id: invokeConnectorAction_s9NyZE
      input:
        binding:
          sysparm_display_value: true
          sysparm_exclude_reference_link: true
          sysparm_limit: 20
          sysparm_query: =Concatenate("requested_for=",Global.SNCallerId,"^ORDERBYDESCopened_at")
          tableType: sc_req_item

      output:
        binding:
          result: Topic.GetReqItemResults

      connectionReference: cr3fb_itHelpdeskV1.shared_service-now.eafe6f13e4134dd48339c4068e6bc415
      connectionProperties:
        mode: Maker

      dynamicOutputSchema:
        kind: Record
        properties:
          result:
            order: 0
            type:
              kind: Table
              properties:
                action_status:
                  displayName: Action status
                  order: 101
                  type: String

                active:
                  displayName: Active
                  order: 25
                  type: String

                activity_due:
                  displayName: Activity due
                  description: Date by which the Inactivity Monitor expects the task to be updated
                  order: 100
                  type: String

                additional_assignee_list:
                  displayName: Additional assignee list
                  description: Additional assignees
                  order: 41
                  type: String

                approval:
                  displayName: Approval
                  order: 105
                  type: String

                approval_history:
                  displayName: Approval history
                  order: 7
                  type: String

                approval_set:
                  displayName: Approval set
                  order: 31
                  type: String

                assigned_to:
                  displayName: Assigned to
                  description: Person primarily responsible for working this task
                  order: 48
                  type: String

                assignment_group:
                  displayName: Assignment group
                  order: 88
                  type: String

                backordered:
                  displayName: Backordered
                  order: 76
                  type: String

                billable:
                  displayName: Billable
                  order: 111
                  type: String

                business_duration:
                  displayName: Business duration
                  description: Business time elapsed before task was closed
                  order: 29
                  type: String

                business_service:
                  displayName: Business service
                  order: 77
                  type: String

                calendar_duration:
                  displayName: Duration
                  description: Time elapsed before task was closed
                  order: 91
                  type: String

                cat_item:
                  displayName: Item
                  order: 53
                  type: String

                close_notes:
                  displayName: Close notes
                  order: 92
                  type: String

                closed_at:
                  displayName: Closed
                  order: 75
                  type: String

                closed_by:
                  displayName: Closed by
                  order: 45
                  type: String

                cmdb_ci:
                  displayName: Configuration item
                  description: Item or service affected
                  order: 20
                  type: String

                comments:
                  displayName: Additional comments
                  description: Journaled field, shared with the end user
                  order: 102
                  type: String

                comments_and_work_notes:
                  displayName: Comments and Work notes
                  description: Combined output of Additional comments and Work notes
                  order: 50
                  type: String

                company:
                  displayName: Company
                  order: 99
                  type: String

                configuration_item:
                  displayName: Configuration item
                  order: 83
                  type: String

                contact_type:
                  displayName: Contact type
                  order: 94
                  type: String

                context:
                  displayName: Context
                  order: 13
                  type: String

                contract:
                  displayName: Contract
                  order: 23
                  type: String

                correlation_display:
                  displayName: Correlation display
                  order: 38
                  type: String

                correlation_id:
                  displayName: Correlation ID
                  order: 58
                  type: String

                delivery_plan:
                  displayName: Delivery plan
                  order: 21
                  type: String

                delivery_task:
                  displayName: Delivery task
                  order: 39
                  type: String

                description:
                  displayName: Description
                  description: What change steps will be performed?
                  order: 90
                  type: String

                due_date:
                  displayName: Due date
                  description: Expected date from assigned to
                  order: 107
                  type: String

                escalation:
                  displayName: Escalation
                  order: 56
                  type: String

                estimated_delivery:
                  displayName: Estimated Delivery
                  order: 59
                  type: String

                expected_start:
                  displayName: Expected start
                  order: 80
                  type: String

                flow_context:
                  displayName: Flow Context
                  order: 81
                  type: String

                follow_up:
                  displayName: Follow up
                  order: 46
                  type: String

                group_list:
                  displayName: Group list
                  description: Interested groups
                  order: 30
                  type: String

                impact:
                  displayName: Impact
                  description: Measure of the business criticality of the affected service
                  order: 24
                  type: String

                knowledge:
                  displayName: Knowledge
                  description: If checked, will automatically create a Draft knowledge article upon closure
                  order: 16
                  type: String

                location:
                  displayName: Location
                  description: Where the caller or service is located
                  order: 115
                  type: String

                made_sla:
                  displayName: Made SLA
                  order: 61
                  type: String

                needs_attention:
                  displayName: Needs attention
                  description: If checked, the agent needs to review this task.
                  order: 33
                  type: String

                number:
                  displayName: Number
                  order: 9
                  type: String

                opened_at:
                  displayName: Opened
                  order: 82
                  type: String

                opened_by:
                  displayName: Opened by
                  order: 67
                  type: String

                order:
                  displayName: Order
                  order: 17
                  type: String

                order_guide:
                  displayName: Order Guide
                  order: 34
                  type: String

                parent:
                  displayName: Parent
                  order: 0
                  type: String

                personal_printer:
                  displayName: Personal Printer
                  order: 98
                  type: String

                price:
                  displayName: Price
                  order: 10
                  type: String

                printer_access_similar_to:
                  displayName: Printer Access Similar To
                  order: 65
                  type: String

                priority:
                  displayName: Priority
                  description: Sequence in which an Incident or Problem needs to be resolved, based on impact and urgency
                  order: 27
                  type: String

                quantity:
                  displayName: Quantity
                  order: 103
                  type: String

                reassignment_count:
                  displayName: Reassignment count
                  order: 47
                  type: String

                recurring_frequency:
                  displayName: Recurring Price Frequency
                  order: 12
                  type: String

                recurring_price:
                  displayName: Recurring Price
                  order: 109
                  type: String

                request:
                  displayName: Request
                  order: 86
                  type: String

                requested_for:
                  displayName: Requested for
                  description: On behalf of another individual
                  order: 4
                  type: String

                route_reason:
                  displayName: Route reason
                  order: 73
                  type: String

                sc_catalog:
                  displayName: Catalog
                  order: 2
                  type: String

                service_offering:
                  displayName: Service offering
                  order: 43
                  type: String

                short_description:
                  displayName: Short description
                  order: 37
                  type: String

                skills:
                  displayName: Skills
                  description: Required skills
                  order: 8
                  type: String

                sla_due:
                  displayName: SLA due
                  description: Date by which the SLA expects this task to be completed
                  order: 49
                  type: String

                sn_esign_document:
                  displayName: E-signature document
                  description: E-Signature document
                  order: 63
                  type: String

                sn_esign_esignature_configuration:
                  displayName: E-signature template
                  description: E-Signature configuration
                  order: 95
                  type: String

                stage:
                  displayName: Stage
                  order: 54
                  type: String

                state:
                  displayName: State
                  order: 14
                  type: String

                sys_class_name:
                  displayName: Task type
                  order: 44
                  type: String

                sys_created_by:
                  displayName: Created by
                  order: 15
                  type: String

                sys_created_on:
                  displayName: Created
                  order: 69
                  type: String

                sys_domain:
                  displayName: Domain
                  description: Domain to which the task belongs
                  order: 70
                  type: String

                sys_id:
                  displayName: Sys ID
                  order: 93
                  type: String

                sys_mod_count:
                  displayName: Updates
                  order: 108
                  type: String

                sys_tags:
                  displayName: Tags
                  order: 110
                  type: String

                sys_updated_by:
                  displayName: Updated by
                  order: 66
                  type: String

                sys_updated_on:
                  displayName: Updated
                  order: 5
                  type: String

                task_effective_number:
                  displayName: Effective number
                  order: 64
                  type: String

                time_worked:
                  displayName: Time worked
                  order: 79
                  type: String

                u_add_task:
                  displayName: Add Task
                  order: 74
                  type: String

                u_additional_requested_softwar:
                  displayName: Additional Requested Software
                  order: 78
                  type: String

                u_amie_comments:
                  displayName: AMIE Comments
                  order: 104
                  type: String

                u_amie_rol__same_as_:
                  displayName: AMIE Role (Same As)
                  order: 42
                  type: String

                u_assigned_extension:
                  displayName: Assigned Extension
                  order: 106
                  type: String

                u_avature_comments:
                  displayName: Avature Comments
                  order: 71
                  type: String

                u_avature_role__same_as_:
                  displayName: Avature Role (Same As)
                  order: 52
                  type: String

                u_brand:
                  displayName: Brand
                  order: 96
                  type: String

                u_business_site:
                  displayName: Business Site
                  order: 35
                  type: String

                u_completed_by_orchestration:
                  displayName: Completed by Orchestration
                  order: 32
                  type: String

                u_department:
                  displayName: Department
                  order: 87
                  type: String

                u_department_code:
                  displayName: Department Code
                  order: 6
                  type: String

                u_employee:
                  displayName: Employee
                  order: 18
                  type: String

                u_employee_name:
                  displayName: Employee
                  order: 72
                  type: String

                u_fit_new_hire_url:
                  displayName: FIT New Hire URL
                  order: 51
                  type: String

                u_hire_date:
                  displayName: Effective Date
                  order: 114
                  type: String

                u_jira_key:
                  displayName: Jira Key
                  order: 55
                  type: String

                u_justification:
                  displayName: Justification
                  order: 11
                  type: String

                u_manager:
                  displayName: Manager
                  order: 60
                  type: String

                u_manually_created_tasks:
                  displayName: Manually Created Tasks
                  order: 22
                  type: String

                u_orch_ad_account_creation_time:
                  displayName: Orch AD Account Creation Time
                  order: 28
                  type: String

                u_orchestration_notes:
                  displayName: Orchestration Notes
                  order: 19
                  type: String

                u_position_title:
                  displayName: Position Title
                  order: 112
                  type: String

                u_tracking:
                  displayName: Tracking
                  order: 113
                  type: String

                u_user_created:
                  displayName: User created
                  order: 89
                  type: String

                u_workflow_created_tasks:
                  displayName: Workflow Created Tasks
                  order: 62
                  type: String

                universal_request:
                  displayName: Universal Request
                  order: 36
                  type: String

                upon_approval:
                  displayName: Upon approval
                  order: 57
                  type: String

                upon_reject:
                  displayName: Upon reject
                  order: 3
                  type: String

                urgency:
                  displayName: Urgency
                  description: Measure of the business criticality based on the impact and on the business needs of the Customer
                  order: 97
                  type: String

                user_input:
                  displayName: User input
                  order: 68
                  type: String

                watch_list:
                  displayName: Watch list
                  description: Interested users
                  order: 1
                  type: String

                work_end:
                  displayName: Actual end
                  order: 84
                  type: String

                work_notes:
                  displayName: Work notes
                  order: 85
                  type: String

                work_notes_list:
                  displayName: Work notes list
                  description: Users interested in work notes
                  order: 26
                  type: String

                work_start:
                  displayName: Actual start
                  order: 40
                  type: String

      operationId: GetRecords

    - kind: ConditionGroup
      id: conditionGroup_toEKoO
      conditions:
        - id: conditionItem_OsX3Mb
          condition: =IsEmpty(Topic.GetReqItemResults)
          actions:
            - kind: SendActivity
              id: sendActivity_aFElKm
              activity: It looks like you do not have any service requests that were previously opened.

      elseActions:
        - kind: ParseValue
          id: MB1TQZ
          variable: Topic.ReqItems
          valueType:
            kind: Table

          value: "=\"[]\""

        - kind: SetVariable
          id: setVariable_nG4pW2
          variable: Topic.ReqItems
          value: =Topic.GetReqItemResults

        - kind: SetVariable
          id: setVariable_4D91gS
          variable: Topic.ReqItemList
          value: |-
            =Concat(
                ForAll(
                    Topic.ReqItems,
                    Concatenate(
                        "Request Number: ", ThisRecord.number, Char(13), 
                        "- ", "State: ", ThisRecord.state, Char(13),
                        "- ", "Closed By: ", ThisRecord.closed_by, Char(13), 
                        "- ", "Title: ", ThisRecord.cat_item, Char(13),
                        "- ", "Description: ", ThisRecord.short_description, Char(13), 
                        "- ", "Opened On: ", DateValue(ThisRecord.opened_at), Char(13),Char(13)
                    ) As Value
                ), 
                Value
            )

        - kind: SendActivity
          id: sendActivity_mm0Xzi
          activity: |-
            {If(CountRows(Topic.ReqItems)=1,"I found one request.",Concatenate("Here is a list of your most recent ",CountRows(Topic.ReqItems)," requests."))}
            
            
            {Topic.ReqItemList}